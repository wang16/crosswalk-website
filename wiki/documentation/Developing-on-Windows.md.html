<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html;charset=utf-8">
  <link rel="stylesheet" type="text/css" href="/wiki/css/gollum.css" media="all">
  <link rel="stylesheet" type="text/css" href="/wiki/css/editor.css" media="all">
  <link rel="stylesheet" type="text/css" href="/wiki/css/dialog.css" media="all">
  <link rel="stylesheet" type="text/css" href="/wiki/css/template.css" media="all">
  

  <!--[if IE 7]>
  <link rel="stylesheet" type="text/css" href="/wiki/css/ie7.css" media="all">
  <![endif]-->

  <script>
      var baseUrl = '/wiki';
      var pageFullPath = 'documentation/Developing-on-Windows';
  </script>
  <script type="text/javascript" src="/wiki/javascript/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="/wiki/javascript/mousetrap.min.js"></script>
  <script type="text/javascript" src="/wiki/javascript/gollum.js"></script>
  <script type="text/javascript" src="/wiki/javascript/gollum.dialog.js"></script>
  <script type="text/javascript" src="/wiki/javascript/gollum.placeholder.js"></script>
  <script type="text/javascript" src="/wiki/javascript/editor/gollum.editor.js"></script>

  <script type="text/javascript" src="/wiki/custom.js"></script>

  <title>documentation/Developing on Windows</title>
</head>
<body>

<script>
Mousetrap.bind(['e'], function( e ) {
  e.preventDefault();
  window.location = "/edit" + window.location.pathname;
  return false;
});
</script>
<div id="wiki-wrapper" class="page">
<div id="head">
  <h1>documentation/Developing on Windows</h1>
  <ul class="actions">
    <li class="minibutton">
      <div id="searchbar">
        <form action="/wiki/search" method="get" id="search-form">
        <div id="searchbar-fauxtext">
          <input type="text" name="q" id="search-query" value="Search&hellip;" autocomplete="off">
          <a href="#" id="search-submit" title="Search this wiki">
            <span>Search</span>
          </a>
        </div>
        </form>
      </div>    </li>
    <li class="minibutton"><a href="/wiki/"
       class="action-home-page">Home</a></li>
    <li class="minibutton"><a href="/wiki/pages"
      class="action-all-pages">All</a></li>
    <li class="minibutton"><a href="/wiki/fileview"
    class="action-fileview">Files</a></li>
    <li class="minibutton jaws">
      <a href="#" id="minibutton-new-page">New</a></li>
    <li class="minibutton jaws">
      <a href="#" id="minibutton-rename-page">Rename</a></li>
    <li class="minibutton"><a href="/wiki/edit/documentation/Developing-on-Windows"
       class="action-edit-page">Edit</a></li>
    <li class="minibutton"><a href="/wiki/history/documentation/Developing-on-Windows"
       class="action-page-history">History</a></li>
  </ul>
</div>
<div id="wiki-content">
<div class="">
  <div id="wiki-body" class="gollum-markdown-content">
    <div class="markdown-body">
      <h2>Building Crosswalk enabled Android applications<a class="anchor" id="Building-Crosswalk-enabled-Android-applications" href="#Building-Crosswalk-enabled-Android-applications"></a></h2>

<p>This tutorial goes over the steps for setting up a Windows host environment to build Crosswalk enabled Android applications. </p>

<p>It will walk you through the following:</p>

<ul><li><strong>Installing the GIT SCM tools</strong> - used as a command shell interpreter and for access to utilities like unzip, tar, and gzip.</li>
<li><strong>Installing the Android SDK</strong> - necessary for building Android applications. Also provides a hardware accelerated Android 
emulator.</li>
<li><strong>Installing Oracle JDK</strong> - necessary for building Anrdoid applications.</li>
<li><strong>Installing Python27</strong> - necessary to build Crosswalk enabled Android applications.</li>
<li><strong>Installing Apache ANT</strong> - necessary to build Crosswalk enabled Android applications.</li>
<li><strong>Download the Crosswalk packages</strong></li>
<li><strong>Build a Crosswalk sample application</strong></li>
</ul><h3>Install Git Bash<a class="anchor" id="Install-Git-Bash" href="#Install-Git-Bash"></a></h3>

<p>The Git Bash is provided within the Git SCM tools. In addition to Git Bash, those tools also provide tar, unzip, and gzip which 
are also used on this page.</p>

<p>Download and install the git-scm tools from the git-scm website: <a href="http://git-scm.com/download/win">http://git-scm.com/download/win</a></p>

<p>While installing git-scm, select the following options:</p>

<p><img src="wiki/assets/integrate.png" /><br /></p>

<p>Then select Run Git from the Windows Command Prompt:</p>

<p><img src="wiki/assets/path.png" /><br /></p>

<p>Once installed, you will want to add various directories to your PATH when you enter the Git Bash session. To do this, open notepad, paste the following, and save it as <strong>%USERPROFILE%.bashrc</strong>:
</p><div class="highlight"><pre><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>:<span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/android/sdk/platform-tools
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>:<span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/android/sdk/tools
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>:<span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/Python27
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"C:/Program\ Files/Java/jdk1.7.0_40/jre/bin"</span>:<span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"C:/Program\ Files/Java/jdk1.7.0_40/bin"</span>:<span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>:<span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/apache-ant-1.9.2/bin 
</pre></div>

<p><strong>NOTE:</strong> If you already have the Android SDK, Python27, Apache ANT, or the JDK installed on your system, adjust the above path 
variables appropriately for your system configuration.</p>

<h4>Launching the Git Bash session<a class="anchor" id="Launching-the-Git-Bash-session" href="#Launching-the-Git-Bash-session"></a></h4>

<p>You can now open a Git Bash session by going to your Start Menu and typing in <strong>git bash</strong> and select Git Bash:</p>

<p><img src="wiki/assets/launch.png" /><br /></p>

<h3>Installing the Android SDK<a class="anchor" id="Installing-the-Android-SDK" href="#Installing-the-Android-SDK"></a></h3>

<ol><li>Download Android SDK - <a href="http://developer.android.com/sdk/index.html#download">http://developer.android.com/sdk/index.html#download</a>..</li>
<li>Extract the contents into %USERPROFILE%/android</li>
<li><p>Android's <strong>platform-tools</strong> and <strong>tools</strong> directories were added to the Git Bash session's PATH file while installing the Git SCM tools.</p></li>
<li><p>Run the SDK Manager. You can do this in the Git Bash session by running:
</p><div class="highlight"><pre><span class="nb">cd</span> <span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/android
<span class="s2">"SDK Manager.exe"</span>
</pre></div></li>
<li><p>Within the SDK Manager you need to install:
</p><div class="highlight"><pre><span class="p">[</span> <span class="p">]</span> <span class="n">Android</span> <span class="mf">4.3</span> <span class="p">(</span><span class="n">API</span> <span class="mi">18</span><span class="p">)</span>
    <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="n">Intel</span> <span class="n">x86</span> <span class="n">Atom</span> <span class="n">System</span> <span class="n">Image</span>
<span class="p">...</span>
<span class="p">[</span> <span class="p">]</span> <span class="n">Extras</span>
    <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="n">Intel</span> <span class="n">x86</span> <span class="n">Emulator</span> <span class="n">Accelerator</span> <span class="p">(</span><span class="n">HAXM</span><span class="p">)</span>
</pre></div></li>
</ol><h4>OPTIONAL: Emulator Setup<a class="anchor" id="OPTIONAL:-Emulator-Setup" href="#OPTIONAL:-Emulator-Setup"></a></h4>

<p>If you do not have an x86 based Android device, you can use the hardware accelerated execution manager (HAXM) to provide 
an emulated Android device on your host computer.</p>

<ol><li><p>Install HAXM. The Android SDK Manager will download the HAXM installer, however it does not install it. You can do this in the 
Git Bash session by running:
</p><div class="highlight"><pre><span class="nb">cd</span> <span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/android/sdk/extras/Hardware_Accelerated_Execution_Manager
IntelHaxm.exe
</pre></div>
<strong>NOTE:</strong> The path may change where it places the IntelHaxm installation program. To find this in the Git Bash session by running::
<div class="highlight"><pre><span class="nb">cd</span> <span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/android
find . -iname intelhaxm.exe
</pre></div></li>
<li><p>Create a new emulator image using the AVD Manager.  You can do this in the Git Bash session by running:
</p><div class="highlight"><pre><span class="nb">cd</span> <span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/android
sdk/<span class="s2">"AVD Manager.exe"</span>
</pre></div></li>
</ol><p>For these instructions, we call the image Tablet. Select <strong>Intel Atom (x86)</strong> for CPU/ABI and <strong>Use Host GPU</strong>:</p>

<p><img src="wiki/assets/emulator.png" /><br /></p>

<ol><li><p>Launch the emulator. You can do this in the Git Bash session by running:
</p><div class="highlight"><pre>emulator -avd Tablet
</pre></div></li>
<li><p>Once the emulator has loaded, you can use the adb comment to connect to the emulator.  You can do this in the Git Bash session by running:
</p><div class="highlight"><pre>adb devices
</pre></div>
Which should output something similar to the following:
<div class="highlight"><pre><span class="n">List</span> <span class="n">of</span> <span class="n">devices</span> <span class="n">attached</span>
<span class="n">emulator</span><span class="o">-</span><span class="mi">5554</span>   <span class="n">device</span>
</pre></div></li>
</ol><h3>Install Python<a class="anchor" id="Install-Python" href="#Install-Python"></a></h3>

<p>Install Python 2.7.x (don't install 3.x as some of the scripts do not support newer 3.x syntax)
<a href="http://www.python.org/getit">http://www.python.org/getit</a></p>

<p>This tutorial assumes Python is installed into the default location <strong>C:\Python27\</strong>.</p>

<h3>Install the Oracle JDK<a class="anchor" id="Install-the-Oracle-JDK" href="#Install-the-Oracle-JDK"></a></h3>

<p>Download the Oracle JDK from:
<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>

<p>Make a note of the path where you install. If you accept the defaults, it will install to <strong>C:\Program Files\Java\jdk1.7.0_40</strong>.</p>

<p>The JDK's  <strong>jre/bin</strong> and <strong>bin</strong> directories were added to the Git Bash session's PATH file while installing the Git SCM tools.</p>

<h3>Install ANT<a class="anchor" id="Install-ANT" href="#Install-ANT"></a></h3>

<p>We will install ant within the Git Bash shell using the following commands, which will download the binary distribution and 
decompress it to ${USERPROFILE}, and add it to the PATH.  You can do this in the Git Bash session by running:</p>

<div class="highlight"><pre>curl http://apache.spinellicreations.com//ant/binaries/apache-ant-1.9.2-bin.zip -o apache-ant-1.9.2-bin.zip
unzip apache-ant-1.9.2-bin -x <span class="s1">'*/manual/*'</span>
</pre></div>

<p>The Apache ANT <strong>bin</strong> directory was added to the Git Bash session's PATH file while installing the Git SCM tools.</p>

<h3>Install the Crosswalk for Android packages<a class="anchor" id="Install-the-Crosswalk-for-Android-packages" href="#Install-the-Crosswalk-for-Android-packages"></a></h3>

<p>Now you can download the Crosswalk for Android package, decompress that package, and install it onto a 
connected Android devices using <strong>adb</strong> command. You can do this in the Git Bash session by running:
</p><div class="highlight"><pre><span class="nb">cd</span> <span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>
curl https://download.01.org/crosswalk/releases/android/beta/crosswalk-1.29.4.1.zip -o crosswalk-1.29.4.1.zip
unzip crosswalk-1.29.4.1.zip
adb install -r <span class="k">${</span><span class="nv">USERPROFILE</span><span class="k">}</span>/crosswalk-1.29.4.1/apks/XWalkRuntimeLib.apk 
</pre></div>
<strong>NOTE:</strong> Passing <strong>-r</strong> will re-install the Crosswalk runtime (if you already have a version installed on your device.)

<p>At this point, if you go to your Android system settings, you should see XWalkRuntimeLib listed in the set of installed applications.</p>

<p><img src="wiki/assets/android-settings.png" /><br /></p>

<h3>Building a Crosswalk enabled Android application<a class="anchor" id="Building-a-Crosswalk-enabled-Android-application" href="#Building-a-Crosswalk-enabled-Android-application"></a></h3>

<p>You are now ready to build a Crosswalk application!</p>

<p>Download the <strong>crosswalk-samples</strong> source package, decompress it, and then build a Crosswalk enabled 
Android application hosting the WebGL sample. You can do this in the Git Bash session by running:
</p><div class="highlight"><pre>curl https://download.01.org/crosswalk/releases/crosswalk-samples-0.1.tgz -o crosswalk-samples-0.1.tgz
tar xvf crosswalk-samples-0.1.tgz
<span class="nb">cd </span>crosswalk-1.29.4.1
tar xvf xwalk_app_template.tgz
<span class="nb">cd </span>xwalk_app_template
python make_apk.py --package<span class="o">=</span>com.sample.webgl --name<span class="o">=</span>WebGL --app-root<span class="o">=</span>../../samples/webgl --app-local-path<span class="o">=</span>index.html
</pre></div>
You can install the WebGL sample on your device using <strong>adb install</strong>. You can do this in the Git Bash session by running:
<div class="highlight"><pre>adb install WebGL.apk
</pre></div>

<p>The WebGL sample will now be in your application listing:</p>

<p><img src="wiki/assets/android-apps.png" /><br /></p>

<p>After launching WebGL, you should see the following application:</p>

<p><img src="wiki/assets/android-webgl.png" /><br /></p>
    </div>
  </div>
  </div>

</div>
<div id="footer">
  <p id="last-edit">Last edited by <b>James Ketrenos</b>, 2013-09-26 14:15:31</p>
  <p>
    <a id="delete-link" href="/wiki/documentation/Developing-on-Windows" data-confirm="Are you sure you want to delete this page?"><span>Delete this Page</span></a>
  </p>
</div>
</div>

<form name="rename" method="POST" action="/wiki/rename/documentation/Developing-on-Windows">
  <input type="hidden" name="rename"/>
  <input type="hidden" name="message"/>
</form>


</body>
</html>
